{"ast":null,"code":"const contacts = (state = {\n  phonebooks: [],\n  page: 1,\n  limit: 60,\n  total: 1,\n  pages: 1\n}, action) => {\n  switch (action.type) {\n    case 'LOAD_CONTACT_SUCCESS':\n      return {\n        ...action.contacts,\n        ...action.sort\n      };\n    case 'ADD_CONTACT_SUCCES':\n      return state;\n    case 'UPDATE_CONTACT_SUCCESS':\n      const update = {\n        phonebooks: [...state.phonebooks.map(contacts => {\n          if (contacts.id === action.data.id && action.data.name.toLowerCase().includes(state.keyword.toLowerCase())) return action.data;\n          if (contacts.id === action.data.id) return;\n          return contacts;\n        })]\n      };\n      update.phonebooks.sort((a, b) => {\n        if (a.name.toLowerCase() < b.name.toLowerCase()) return -1;\n        if (a.name.toLowerCase() > b.name.toLowerCase()) return 1;\n        return 0;\n      });\n      if (state.sort === \"desc\") update.phonebooks.reverse();\n      return {\n        ...state,\n        ...update\n        // phonebooks: update.phonebooks.filter(contact => {\n        //     return contact.name.toLowerCase().includes(state.keyword.toLowerCase()) ||\n        //         contact.phone.toLowerCase().includes(state.keyword.toLowerCase())\n        // })\n      };\n\n    case 'DELETE_CONTACT_SUCCESS':\n      return {\n        ...state,\n        phonebooks: state.phonebooks.filter(contacts => contacts.id !== action.id)\n      };\n    case 'UPDATE_AVATAR_SUCCESS':\n      return state;\n    case 'LOAD_PAGE_SUCCESS':\n      return {\n        ...state,\n        phonebooks: [...state.phonebooks, ...action.contacts.phonebooks],\n        page: action.contacts.page\n      };\n    case 'LOAD_CONTACT_FAILED':\n    case 'ADD_CONTACT_FAILED':\n    case 'UPDATE_CONTACT_FAILED':\n    case 'DELETE_CONTACT_FAILED':\n    case 'UPDATE_AVATAR_FAILED':\n    default:\n      return state;\n  }\n};\nexport default contacts;","map":{"version":3,"names":["contacts","state","phonebooks","page","limit","total","pages","action","type","sort","update","map","id","data","name","toLowerCase","includes","keyword","a","b","reverse","filter"],"sources":["/home/ramdani/Documents/web-phonebooks/src/reducers/contacts.js"],"sourcesContent":["const contacts = (state = { phonebooks: [], page: 1, limit: 60, total: 1, pages: 1 }, action) => {\n    switch (action.type) {\n        case 'LOAD_CONTACT_SUCCESS':\n            return { ...action.contacts, ...action.sort }\n        case 'ADD_CONTACT_SUCCES':\n            return state;\n        case 'UPDATE_CONTACT_SUCCESS':\n            const update = { phonebooks: [...(state.phonebooks.map((contacts) => {\n                if (contacts.id === action.data.id && action.data.name.toLowerCase().includes(state.keyword.toLowerCase())) return action.data\n                if (contacts.id === action.data.id) return;\n                return contacts\n            }))] };\n            update.phonebooks.sort((a, b) => {\n                if (a.name.toLowerCase() < b.name.toLowerCase()) return -1;\n                if (a.name.toLowerCase() > b.name.toLowerCase()) return 1;\n                return 0;\n            });\n            if (state.sort === \"desc\") update.phonebooks.reverse()\n            return {\n                ...state, ...update\n                // phonebooks: update.phonebooks.filter(contact => {\n                //     return contact.name.toLowerCase().includes(state.keyword.toLowerCase()) ||\n                //         contact.phone.toLowerCase().includes(state.keyword.toLowerCase())\n                // })\n            };\n        case 'DELETE_CONTACT_SUCCESS':\n            return { ...state, phonebooks: state.phonebooks.filter((contacts) => contacts.id !== action.id) }\n        case 'UPDATE_AVATAR_SUCCESS':\n            return state;\n        case 'LOAD_PAGE_SUCCESS':\n            return { ...state, phonebooks: [...state.phonebooks, ...action.contacts.phonebooks], page: action.contacts.page }\n        case 'LOAD_CONTACT_FAILED':\n        case 'ADD_CONTACT_FAILED':\n        case 'UPDATE_CONTACT_FAILED':\n        case 'DELETE_CONTACT_FAILED':\n        case 'UPDATE_AVATAR_FAILED':\n        default:\n            return state;\n    }\n}\n\nexport default contacts"],"mappings":"AAAA,MAAMA,QAAQ,GAAGA,CAACC,KAAK,GAAG;EAAEC,UAAU,EAAE,EAAE;EAAEC,IAAI,EAAE,CAAC;EAAEC,KAAK,EAAE,EAAE;EAAEC,KAAK,EAAE,CAAC;EAAEC,KAAK,EAAE;AAAE,CAAC,EAAEC,MAAM,KAAK;EAC7F,QAAQA,MAAM,CAACC,IAAI;IACf,KAAK,sBAAsB;MACvB,OAAO;QAAE,GAAGD,MAAM,CAACP,QAAQ;QAAE,GAAGO,MAAM,CAACE;MAAK,CAAC;IACjD,KAAK,oBAAoB;MACrB,OAAOR,KAAK;IAChB,KAAK,wBAAwB;MACzB,MAAMS,MAAM,GAAG;QAAER,UAAU,EAAE,CAAC,GAAID,KAAK,CAACC,UAAU,CAACS,GAAG,CAAEX,QAAQ,IAAK;UACjE,IAAIA,QAAQ,CAACY,EAAE,KAAKL,MAAM,CAACM,IAAI,CAACD,EAAE,IAAIL,MAAM,CAACM,IAAI,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACf,KAAK,CAACgB,OAAO,CAACF,WAAW,CAAC,CAAC,CAAC,EAAE,OAAOR,MAAM,CAACM,IAAI;UAC9H,IAAIb,QAAQ,CAACY,EAAE,KAAKL,MAAM,CAACM,IAAI,CAACD,EAAE,EAAE;UACpC,OAAOZ,QAAQ;QACnB,CAAC,CAAE;MAAE,CAAC;MACNU,MAAM,CAACR,UAAU,CAACO,IAAI,CAAC,CAACS,CAAC,EAAEC,CAAC,KAAK;QAC7B,IAAID,CAAC,CAACJ,IAAI,CAACC,WAAW,CAAC,CAAC,GAAGI,CAAC,CAACL,IAAI,CAACC,WAAW,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;QAC1D,IAAIG,CAAC,CAACJ,IAAI,CAACC,WAAW,CAAC,CAAC,GAAGI,CAAC,CAACL,IAAI,CAACC,WAAW,CAAC,CAAC,EAAE,OAAO,CAAC;QACzD,OAAO,CAAC;MACZ,CAAC,CAAC;MACF,IAAId,KAAK,CAACQ,IAAI,KAAK,MAAM,EAAEC,MAAM,CAACR,UAAU,CAACkB,OAAO,CAAC,CAAC;MACtD,OAAO;QACH,GAAGnB,KAAK;QAAE,GAAGS;QACb;QACA;QACA;QACA;MACJ,CAAC;;IACL,KAAK,wBAAwB;MACzB,OAAO;QAAE,GAAGT,KAAK;QAAEC,UAAU,EAAED,KAAK,CAACC,UAAU,CAACmB,MAAM,CAAErB,QAAQ,IAAKA,QAAQ,CAACY,EAAE,KAAKL,MAAM,CAACK,EAAE;MAAE,CAAC;IACrG,KAAK,uBAAuB;MACxB,OAAOX,KAAK;IAChB,KAAK,mBAAmB;MACpB,OAAO;QAAE,GAAGA,KAAK;QAAEC,UAAU,EAAE,CAAC,GAAGD,KAAK,CAACC,UAAU,EAAE,GAAGK,MAAM,CAACP,QAAQ,CAACE,UAAU,CAAC;QAAEC,IAAI,EAAEI,MAAM,CAACP,QAAQ,CAACG;MAAK,CAAC;IACrH,KAAK,qBAAqB;IAC1B,KAAK,oBAAoB;IACzB,KAAK,uBAAuB;IAC5B,KAAK,uBAAuB;IAC5B,KAAK,sBAAsB;IAC3B;MACI,OAAOF,KAAK;EACpB;AACJ,CAAC;AAED,eAAeD,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}